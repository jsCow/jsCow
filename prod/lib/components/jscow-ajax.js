jsCow.res.components.ajax=function(){},jsCow.res.components.ajax.prototype={init:function(){return this},setDefaultMVC:function(){return this.setModel(jsCow.res.model.ajax),this.setController(jsCow.res.controller.ajax),this},setData:function(a){return this.globalEvents.trigger("setData",{data:a},this),this},setUrl:function(a){return this.globalEvents.trigger("setUrl",{url:a},this),this},setDataType:function(a,b){var c={dataType:a};return"undefined"!=typeof b&&("?"==b||(c.jsonpCallback=b)),this.globalEvents.trigger("setDataType",c,this),this},jsonpCallbackParam:function(a){var b={};return"undefined"!=typeof a&&(b.jsonpCallbackParam=a),this.globalEvents.trigger("jsonpCallbackParam",b,this),this},setRequestType:function(a){return this.globalEvents.trigger("setRequestType",{type:a},this),this},setContentType:function(a){return this.globalEvents.trigger("setContentType",{contentType:a},this),this},exec:function(){return this.globalEvents.trigger("exec",{},this),this}},jsCow.res.model.ajax=function(){this.type="jsCow.res.model.ajax",this.config={globalDisabled:!1,enabled:!0,header:{url:!1,type:"POST",dataType:"json",contentType:!1},data:{}}},jsCow.res.model.ajax.prototype={init:function(){},setData:function(a){return this.isEnabled()&&$.extend(!0,this.config.data,a.data.data),this},setUrl:function(a){return this.isEnabled()&&(this.config.header.url=a.data.url),this},setDataType:function(a){return this.isEnabled()&&("json"===a.data.dataType.toLowerCase()||"xml"===a.data.dataType.toLowerCase()||"jsonp"===a.data.dataType.toLowerCase())&&(this.config.header.dataType=a.data.dataType,"undefined"!=typeof a.data.jsonpCallback&&(this.config.header.jsonpCallback=a.data.jsonpCallback)),this},setRequestType:function(a){return this.isEnabled()&&(this.config.header.type=a.data.type),this},setContentType:function(a){return this.isEnabled()&&(this.config.header.contentType=a.data.contentType),this},getDataObject:function(a){if(void 0!=a){if("json"==this.config.header.dataType.toLowerCase())return $.parseJSON(a);if("jsonp"==this.config.header.dataType.toLowerCase())return a;if("xml"==this.config.header.dataType.toLowerCase())return $.parseXML(a)}return!1},jsonpCallbackParam:function(a){return this.isEnabled()&&(this.config.header.jsonpCallbackParam=a.data.jsonpCallbackParam),this},exec:function(){if(this.isEnabled()){var a=this,b={type:this.config.header.type,url:this.config.header.url,data:this.config.data,error:function(b){a.error(b)}};this.events.isEventExists("beforeSend")&&(b.beforeSend=function(b){a.beforeSend(b)}),this.events.isEventExists("dataFilter")&&(b.dataFilter=function(b){a.dataFilter(b)}),this.events.isEventExists("success")&&(b.success=function(b){a.success(b)}),this.events.isEventExists("complete")&&(b.complete=function(b){a.complete(b)}),b.data.header=this.config.header,b.data.header.time=Math.round((new Date).getTime()/1e3),this.config.header.contentType?b.contentType=this.config.header.contentType:delete b.data.header.contentType,"jsonp"===this.config.header.dataType&&(b.dataType=this.config.header.dataType,void 0!==this.config.header.jsonpCallback&&(b.jsonpCallback=this.config.header.jsonpCallback),void 0!==this.config.header.jsonpCallbackParam&&(b.jsonp=this.config.header.jsonpCallbackParam)),$.ajax(b)}return this},beforeSend:function(a){return this.isEnabled()&&this.events.trigger("beforeSend",a),this},success:function(a){return this.isEnabled()&&this.events.trigger("success",this.getDataObject(a)),this},dataFilter:function(a){return this.isEnabled()&&this.events.trigger("dataFilter",this.getDataObject(a)),this},complete:function(a){return this.isEnabled()&&this.events.trigger("complete",this.getDataObject(a)),this},error:function(a){return this.isEnabled()&&this.events.trigger("error",a),this}},jsCow.res.controller.ajax=function(){this.type="jsCow.res.controller.ajax"},jsCow.res.controller.ajax.prototype={init:function(){},handleSetData:function(a){return this.isMethodExists(this.getModel().setData)&&this.getModel().setData(a),!1},handleSetUrl:function(a){return this.isMethodExists(this.getModel().setUrl)&&this.getModel().setUrl(a),!1},handleSetDataType:function(a){return this.isMethodExists(this.getModel().setDataType)&&this.getModel().setDataType(a),!1},handleJsonpCallbackParam:function(a){return this.isMethodExists(this.getModel().jsonpCallbackParam)&&this.getModel().jsonpCallbackParam(a),!1},handleSetRequestType:function(a){return this.isMethodExists(this.getModel().setRequestType)&&this.getModel().setRequestType(a),!1},handleSetContentType:function(a){return this.isMethodExists(this.getModel().setContentType)&&this.getModel().setContentType(a),!1},handleExec:function(a){return this.isMethodExists(this.getModel().exec)&&this.getModel().exec(a),!1}};