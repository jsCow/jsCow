jsCow.res.components.button=function(){},jsCow.res.components.button.prototype={init:function(){return this},setDefaultMVC:function(){return this.setModel(jsCow.res.model.button),this.setView(jsCow.res.view.button),this.setController(jsCow.res.controller.button),this},setTitle:function(a){return this.globalEvents.trigger("setTitle",{title:a},this),this},getTitle:function(){return this.getModel().getConfig("title")},toggle:function(){return this.globalEvents.trigger("toggle",{},this),this},setToggleHandler:function(a,b){return this.globalEvents.trigger("setClickHandler",{pushHandler:a,pullHandler:b,type:"toggle"},this),this},reset:function(){return this.globalEvents.trigger("reset",{},this),this},setClickHandler:function(a){return this.globalEvents.trigger("setClickHandler",{clickHandler:a,type:"click"},this),this},click:function(){return this.globalEvents.trigger("click",{},this),this},setToggleState:function(a){if(void 0==a)var a=!1;return this.globalEvents.trigger("setToggleState",{state:a},this),this},setButtonGroup:function(a){return this.globalEvents.trigger("setButtonGroup",{group:a},this),this}},jsCow.res.model.button=function(){this.type="jsCow.res.model.button",this.config={globalDisabled:!1,enabled:!0,title:"Button",toggle:!1,pressed:!1,clickHandler:function(){},pushHandler:function(){},pullHandler:function(){},toggleButtonGroup:!1},this.resetConfig={}},jsCow.res.model.button.prototype={init:function(){this.resetConfig=this.getConfig(),this.globalEvents.trigger("viewInit",this.getConfig(),this.getCmp())},setTitle:function(a){return this.isEnabled()&&(this.setConfig({lastTitle:this.getConfig("title"),title:a.data.title}),this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp())),this},toggle:function(){if(this.isEnabled()&&this.config.toggle){var a=this;this.getConfig("toggleButtonGroup")?this.globalEvents.trigger("buttonGroupEvent",{activeButton:this.getCmp(),toggleButtonGroup:this.getConfig("toggleButtonGroup")}):this.config.pressed?(this.setConfig({pressed:!1}),"function"==typeof this.config.pullHandler&&this.config.pullHandler.call(a.getCmp())):(this.setConfig({pressed:!0}),"function"==typeof this.config.pushHandler&&this.config.pushHandler.call(a.getCmp())),this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp())}return this},reset:function(){return this.isEnabled()&&(this.setConfig(this.resetConfig),this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp())),this},setClickHandler:function(a){if(this.isEnabled()){var b=this;this.setConfig({clickHandler:a.data.clickHandler}),"undefined"==typeof this.getConfig("clickHandler")?(a.data.element.unbind("click",this.getConfig("clickHandler")),this.setConfig({clickHandler:function(){}})):a.data.element.bind("click",function(){b.globalEvents.trigger("click",{element:a.data.element},b.getCmp())})}return this},setToggleHandler:function(a){if(this.isEnabled()){var b=this;this.setConfig({pushHandler:a.data.pushHandler,pullHandler:a.data.pullHandler}),a.data.element.bind("click",function(){b.globalEvents.trigger("click",{element:a.data.element},b.getCmp())})}return this},click:function(){return this.isEnabled()&&(this.getConfig("toggle")?this.getConfig("toggleButtonGroup")?this.getConfig("pressed")||this.globalEvents.trigger("buttonGroupEvent",{activeButton:this.getCmp(),toggleButtonGroup:this.getConfig("toggleButtonGroup")}):this.toggle():this.getConfig("clickHandler").call(this.getCmp()),this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp()),this.events.trigger("click",this.getConfig())),this},setToggleState:function(a){return this.isEnabled()&&this.setConfig({toggle:a.data.state}),this},setButtonGroup:function(a){return this.isEnabled()&&(a.data.group?(this.setConfig({toggleButtonGroup:a.data.group,toggle:!0}),this.globalEvents.register("buttonGroupEvent",this.getCmp())):(this.setConfig({toggleButtonGroup:!1,toggle:!1}),this.globalEvents.unregister("buttonGroupEvent",this.getCmp())),this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp())),this},buttonGroupEvent:function(a){return this.isEnabled()&&this.config.toggle&&(a.data.activeButton.getID()==this.getCmp().getID()&&a.data.toggleButtonGroup==this.getConfig("toggleButtonGroup")?(this.getConfig("pressed")||"function"!=typeof this.config.pushHandler||this.config.pushHandler.call(this.getCmp()),this.setConfig({pressed:!0})):a.data.toggleButtonGroup==this.getConfig("toggleButtonGroup")&&("function"==typeof this.config.pullHandler&&this.config.pullHandler.call(this.getCmp()),this.setConfig({pressed:!1})),this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp())),this}},jsCow.res.view.button=function(){this.execInit=!1,this.type="jsCow.res.view.button",this.dom={},this.dom.main=$("<div/>").addClass("jscow-btn jscow-float-left jscow-cursor"),this.dom.content=$("<div/>").addClass("jscow-btn-content").appendTo(this.dom.main),this.dom.ico=$("<img/>"),this.configCache={}},jsCow.res.view.button.prototype={init:function(a){var b=this;this.dom.main.hover(function(){b.cssHover(!0)},function(){b.cssHover(!1)}).mousedown(function(){b.cssMousedown()}).mouseup(function(){b.cssMouseup()}).mouseout(function(){b.cssMouseup()}),this.update(a)},update:function(a){var a=a.data;return this.configCache=a,a&&(!a.enabled||a.globalDisabled?this.dom.main.removeClass("jscow-btn jscow-cursor").addClass("jscow-btn-disabled"):(this.dom.main.addClass("jscow-btn jscow-cursor").removeClass("jscow-btn-disabled jscow-btn-hover"),a.pressed?this.dom.main.addClass("jscow-btn-pressed jscow-cursor").removeClass("jscow-btn jscow-btn-disabled"):this.dom.main.addClass("jscow-btn jscow-cursor").removeClass("jscow-btn-pressed"),a.title&&this.dom.content.html(a.title),a.hide?this.dom.main.addClass("jscow-hide"):this.dom.main.removeClass("jscow-hide"))),this},bindClickEvent:function(a){switch(a.data.type){case"click":this.globalEvents.trigger("bindClickEvent",{element:this.dom.main,clickHandler:a.data.clickHandler},this.getCmp());break;case"toggle":this.globalEvents.trigger("setToggleHandler",{element:this.dom.main,pushHandler:a.data.pushHandler,pullHandler:a.data.pullHandler},this.getCmp())}return this},cssHover:function(a){return(this.configCache.enabled||!this.configCache.globalDisabled)&&(a?this.dom.main.addClass("jscow-btn-hover"):this.dom.main.removeClass("jscow-btn-hover")),this},cssMousedown:function(){return(this.configCache.enabled||!this.configCache.globalDisabled)&&this.dom.main.addClass("jscow-btn-press"),this},cssMouseup:function(){return(this.configCache.enabled||!this.configCache.globalDisabled)&&this.dom.main.removeClass("jscow-btn-press"),this}},jsCow.res.controller.button=function(){this.type="jsCow.res.controller.button"},jsCow.res.controller.button.prototype={init:function(){},handleSetTitle:function(a){return this.isMethodExists(this.getModel().setTitle)&&this.getModel().setTitle(a),this},handleToggle:function(){return this.isMethodExists(this.getModel().toggle)&&this.getModel().toggle(),this},handleReset:function(){return this.isMethodExists(this.getModel().reset)&&this.getModel().reset(),this},handleSetClickHandler:function(a){return this.getView().isMethodExistsExec("bindClickEvent",a),this},handleBindClickEvent:function(a){return this.isMethodExists(this.getModel().setClickHandler)&&this.getModel().setClickHandler(a),this},handleSetToggleHandler:function(a){return this.isMethodExists(this.getModel().setToggleHandler)&&this.getModel().setToggleHandler(a),this},handleClick:function(a){return this.isMethodExists(this.getModel().click)&&this.getModel().click(a),this},handleSetToggleState:function(a){return this.isMethodExists(this.getModel().setToggleState)&&this.getModel().setToggleState(a),this},handleSetButtonGroup:function(a){return this.isMethodExists(this.getModel().setButtonGroup)&&this.getModel().setButtonGroup(a),this},handleButtonGroupEvent:function(a){return this.isMethodExists(this.getModel().buttonGroupEvent)&&this.getModel().buttonGroupEvent(a),this}};